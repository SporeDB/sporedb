image: lesterpig/sporedb-ci:latest

stages:
  - test

before_script:
  - source ci/prepare

unit tests:
  stage: test
  script:
    - make
    - go test -v -cover ./...

code lint:
  stage: test
  script:
    - go get github.com/stretchr/testify/require
    - make lint
